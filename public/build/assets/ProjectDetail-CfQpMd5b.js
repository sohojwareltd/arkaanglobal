import{c as te,a as se,u as le,r as re,j as t,L as Y,H as ie}from"./app-HggLWum1.js";import{L as Z,M as ne}from"./Layout-DhVZ4PFT.js";import{W as ae}from"./when-visible-WuA6E2-5.js";import{B as ce}from"./building-2-BJoojYoQ.js";import{U as oe}from"./users-CprkQFn9.js";/* empty css            */const de=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const me=te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function ee(r){if(!r)return null;if(r.type==="video"&&r.video_url)return r.video_url;const e=Array.isArray(r.file)?r.file[0]:r.file;return e&&typeof e=="string"?e.startsWith("http")||e.startsWith("/")?e:`/storage/${e}`:null}function fe(r){if(!r)return null;try{const e=new URL(r);if(e.hostname.includes("youtube.com")||e.hostname.includes("youtu.be")){const s=e.searchParams.get("v")||e.pathname.split("/").pop();return s?`https://www.youtube.com/embed/${s}`:null}if(e.hostname.includes("vimeo.com")){const s=e.pathname.split("/").pop();return s?`https://player.vimeo.com/video/${s}`:null}}catch{return null}return null}function Ne(r){const e=se.c(77),{project:s}=r,{t:E,language:l}=le(),[M,G]=re.useState(null);if(!s){const n=l==="en"?"Project not found.":"المشروع غير موجود.";let o;e[0]!==n?(o=t.jsx("p",{className:"text-muted-foreground",children:n}),e[0]=n,e[1]=o):o=e[1];const d=l==="en"?"Back to Projects":"العودة إلى المشاريع";let i;e[2]!==d?(i=t.jsx(Y,{href:"/projects",className:"mt-4 inline-flex items-center gap-2 text-primary hover:underline",children:d}),e[2]=d,e[3]=i):i=e[3];let m;return e[4]!==o||e[5]!==i?(m=t.jsx(Z,{children:t.jsxs("div",{className:"section-padding container-custom",children:[o,i]})}),e[4]=o,e[5]=i,e[6]=m):m=e[6],m}const a=l==="en"?s.title_en:s.title_ar,q=l==="en"?s.location_en:s.location_ar,S=l==="en"?s.description_en:s.description_ar,f=s.image,T=typeof f=="string"&&f?f.startsWith("http")||f.startsWith("/")?f:`/storage/${f}`:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?q=80&w=2070";let V;e[7]!==s.galleryItems||e[8]!==s.gallery_items?(V=s.galleryItems??s.gallery_items??[],e[7]=s.galleryItems,e[8]=s.gallery_items,e[9]=V):V=e[9];const z=V;let H;e[10]!==z?(H=Array.isArray(z)?z:[],e[10]=z,e[11]=H):H=e[11];const c=H,J=[{id:"all",label:E("projects.filter.all")},{id:"construction",label:E("projects.filter.construction")},{id:"infrastructure",label:E("projects.filter.infrastructure")},{id:"commercial",label:E("projects.filter.commercial")},{id:"industrial",label:E("projects.filter.industrial")}].find(n=>n.id===s.category)?.label??s.category,K=a??"Project",O=S??a??"";let u;e[12]!==K?(u=t.jsx("title",{children:K}),e[12]=K,e[13]=u):u=e[13];let x;e[14]!==O?(x=t.jsx("meta",{name:"description",content:O}),e[14]=O,e[15]=x):x=e[15];let p;e[16]!==u||e[17]!==x?(p=t.jsxs(ie,{children:[u,x]}),e[16]=u,e[17]=x,e[18]=p):p=e[18];let R;e[19]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(de,{className:"h-4 w-4"}),e[19]=R):R=e[19];const Q=l==="en"?"Back to Projects":"العودة إلى المشاريع";let h;e[20]!==Q?(h=t.jsxs(Y,{href:"/projects",className:"mb-8 inline-flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors",children:[R,Q]}),e[20]=Q,e[21]=h):h=e[21];let g;e[22]!==T||e[23]!==a?(g=t.jsx("img",{src:T,alt:a,className:"w-full h-full object-cover"}),e[22]=T,e[23]=a,e[24]=g):g=e[24];let j;e[25]!==J?(j=t.jsx("div",{className:"absolute left-4 top-4 rounded-full bg-primary/90 px-3 py-1 text-xs font-medium capitalize text-primary-foreground",children:J}),e[25]=J,e[26]=j):j=e[26];let y;e[27]!==j||e[28]!==g?(y=t.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-xl aspect-video",children:[g,j]}),e[27]=j,e[28]=g,e[29]=y):y=e[29];let v;e[30]!==c||e[31]!==l?(v=c.length>0&&t.jsx(ae,{className:"scroll-mt-24",children:t.jsxs("section",{children:[t.jsx("h2",{className:"mb-6 text-2xl font-bold text-foreground",children:l==="en"?"Gallery":"المعرض"}),t.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:c.map((n,o)=>{const d=ee(n),i=l==="en"?n.caption_en:n.caption_ar;if(!d)return null;if(n.type==="video"){const m=fe(d);return t.jsxs("div",{className:"rounded-xl overflow-hidden shadow-lg bg-muted",children:[m?t.jsx("div",{className:"aspect-video relative",children:t.jsx("iframe",{src:m,title:i??"Video",className:"absolute inset-0 w-full h-full",allowFullScreen:!0})}):t.jsx("div",{className:"aspect-video relative flex items-center justify-center bg-muted",children:t.jsxs("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary hover:underline",children:[t.jsx(me,{className:"h-12 w-12"}),l==="en"?"Watch Video":"شاهد الفيديو"]})}),i&&t.jsx("p",{className:"p-3 text-sm text-muted-foreground",children:i})]},n.id)}return t.jsxs("div",{className:"rounded-xl overflow-hidden shadow-lg cursor-pointer group",onClick:()=>G(o),children:[t.jsx("img",{src:d,alt:i??"",className:"w-full aspect-video object-cover transition-transform group-hover:scale-105"}),i&&t.jsx("p",{className:"p-3 text-sm text-muted-foreground",children:i})]},n.id)})})]})}),e[30]=c,e[31]=l,e[32]=v):v=e[32];let N;e[33]!==y||e[34]!==v?(N=t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[y,v]}),e[33]=y,e[34]=v,e[35]=N):N=e[35];let b;e[36]!==a?(b=t.jsx("h1",{className:"mb-4 text-2xl font-bold text-foreground",children:a}),e[36]=a,e[37]=b):b=e[37];let w;e[38]!==S?(w=S&&t.jsx("p",{className:"mb-6 text-muted-foreground",children:S}),e[38]=S,e[39]=w):w=e[39];let _;e[40]!==l||e[41]!==s.client?(_=s.client&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10",children:t.jsx(ce,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:l==="en"?"Client":"العميل"}),t.jsx("p",{className:"font-medium text-foreground",children:s.client.name})]})]}),e[40]=l,e[41]=s.client,e[42]=_):_=e[42];let D;e[43]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(ne,{className:"h-5 w-5 text-primary shrink-0"}),e[43]=D):D=e[43];const X=l==="en"?"Location":"الموقع";let k;e[44]!==X?(k=t.jsx("p",{className:"text-sm text-muted-foreground",children:X}),e[44]=X,e[45]=k):k=e[45];let L;e[46]!==q?(L=t.jsx("p",{className:"font-medium text-foreground",children:q}),e[46]=q,e[47]=L):L=e[47];let P;e[48]!==k||e[49]!==L?(P=t.jsxs("div",{className:"flex items-center gap-3",children:[D,t.jsxs("div",{children:[k,L]})]}),e[48]=k,e[49]=L,e[50]=P):P=e[50];let I;e[51]!==l||e[52]!==s.workers?(I=s.workers&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(oe,{className:"h-5 w-5 text-primary shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:l==="en"?"Workers":"العمال"}),t.jsx("p",{className:"font-medium text-foreground",children:s.workers})]})]}),e[51]=l,e[52]=s.workers,e[53]=I):I=e[53];let W;e[54]!==_||e[55]!==P||e[56]!==I?(W=t.jsxs("div",{className:"space-y-4",children:[_,P,I]}),e[54]=_,e[55]=P,e[56]=I,e[57]=W):W=e[57];let A;e[58]!==b||e[59]!==w||e[60]!==W?(A=t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"card-elevated p-6 sticky top-24",children:[b,w,W]})}),e[58]=b,e[59]=w,e[60]=W,e[61]=A):A=e[61];let U;e[62]!==N||e[63]!==A?(U=t.jsxs("div",{className:"grid gap-12 lg:grid-cols-3",children:[N,A]}),e[62]=N,e[63]=A,e[64]=U):U=e[64];let C;e[65]!==U||e[66]!==h?(C=t.jsx("div",{className:"section-padding",children:t.jsxs("div",{className:"container-custom",children:[h,U]})}),e[65]=U,e[66]=h,e[67]=C):C=e[67];let $;e[68]!==c||e[69]!==M?($=M!==null&&t.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4",onClick:()=>G(null),children:[t.jsx("button",{type:"button",className:"absolute top-4 right-4 text-white text-2xl",onClick:()=>G(null),children:"×"}),c[M]?.type==="image"&&t.jsx("img",{src:ee(c[M])??"",alt:"",className:"max-w-full max-h-full object-contain",onClick:ue})]}),e[68]=c,e[69]=M,e[70]=$):$=e[70];let B;e[71]!==C||e[72]!==$?(B=t.jsxs(Z,{children:[C,$]}),e[71]=C,e[72]=$,e[73]=B):B=e[73];let F;return e[74]!==B||e[75]!==p?(F=t.jsxs(t.Fragment,{children:[p,B]}),e[74]=B,e[75]=p,e[76]=F):F=e[76],F}function ue(r){return r.stopPropagation()}export{Ne as default};
